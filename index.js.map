{"version":3,"file":"index.js","sources":["../src/js/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst my_api = '45998239-83277c8f1384b713dfba7e075';\nconst searchInput = document.querySelector('.search-input');\nconst searchBtn = document.querySelector('.search-btn');\nconst images = document.querySelector('.images');\nconst loadingMessage = document.querySelector('.loading-message');\n\nsearchBtn.addEventListener('click', async e => {\n  e.preventDefault();\n  searchInput.value = searchInput.value.trim();\n  images.innerHTML = '';\n  loadingMessage.style.display = 'block';\n\n  try {\n    const response = await fetch(\n      `https://pixabay.com/api/?key=${my_api}&q=${searchInput.value}&image_type=photo`\n    );\n\n    if (!response.ok) {\n        iziToast.error({\n          title: 'Error',\n          message: `An error occurred: ${response.statusText}`,\n          position: 'topRight',\n          backgroundColor: 'red'\n        });\n        return;\n    }\n\n    const data = await response.json();\n\n    if (data.hits.length === 0) {\n      iziToast.error({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    } else {\n      const markup = data.hits\n        .map(image => {\n          return `\n        <li class=\"image\">\n            <a class=\"image-link\" href=\"${image.largeImageURL}\"><img class=\"img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"></a>\n            <div class=\"image-info\">\n              <p class=\"image-desc\">\n               <span class=\"desc title\">Likes</span> \n               <span class=\"desc value\">${image.likes}</span> \n              </p>\n              <p class=\"image-desc\">\n               <span class=\"desc title\">Views</span> \n               <span class=\"desc value\">${image.views}</span> \n              </p>\n              <p class=\"image-desc\">\n               <span class=\"desc title\">Comments</span> \n               <span class=\"desc value\">${image.comments}</span>\n              </p>\n              <p class=\"image-desc\">\n               <span class=\"desc title\">Downloads</span> \n               <span class=\"desc value\">${image.downloads}</span>\n              </p>\n            </div>\n        </li>\n        `;\n        })\n        .join('');\n\n      images.insertAdjacentHTML('beforeend', markup);\n\n      const lightbox = new SimpleLightbox('.image a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n        captionPosition: 'bottom',\n        backgroundColor: 'red'\n      });\n\n      lightbox.refresh();\n    }\n\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: `An error occurred: ${error.message}`,\n      position: 'topRight',\n      backgroundColor: 'red'\n    });\n  } finally {\n    loadingMessage.style.display = 'none';\n  }\n});\n"],"names":["my_api","searchInput","searchBtn","images","loadingMessage","e","response","iziToast","data","markup","image","SimpleLightbox","error"],"mappings":"6vBAKA,MAAMA,EAAS,qCACTC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAiB,SAAS,cAAc,kBAAkB,EAEhEF,EAAU,iBAAiB,QAAS,MAAMG,GAAK,CAC7CA,EAAE,eAAc,EAChBJ,EAAY,MAAQA,EAAY,MAAM,KAAI,EAC1CE,EAAO,UAAY,GACnBC,EAAe,MAAM,QAAU,QAE/B,GAAI,CACF,MAAME,EAAW,MAAM,MACrB,gCAAgCN,CAAM,MAAMC,EAAY,KAAK,mBACnE,EAEI,GAAI,CAACK,EAAS,GAAI,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sBAAsBD,EAAS,UAAU,GAClD,SAAU,WACV,gBAAiB,KAC3B,CAAS,EACD,MACH,CAED,MAAME,EAAO,MAAMF,EAAS,OAE5B,GAAIE,EAAK,KAAK,SAAW,EACvBD,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UAClB,CAAO,MACI,CACL,MAAME,EAASD,EAAK,KACjB,IAAIE,GACI;AAAA;AAAA,0CAEyBA,EAAM,aAAa,2BAA2BA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,0CAIpFA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,0CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,SAKhD,EACA,KAAK,EAAE,EAEVP,EAAO,mBAAmB,YAAaM,CAAM,EAE5B,IAAIE,EAAe,WAAY,CAC9C,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,gBAAiB,KACzB,CAAO,EAEQ,QAAO,CACjB,CAEF,OAAQC,EAAO,CACdL,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sBAAsBK,EAAM,OAAO,GAC5C,SAAU,WACV,gBAAiB,KACvB,CAAK,CACL,QAAY,CACRR,EAAe,MAAM,QAAU,MAChC,CACH,CAAC"}